[tools]
go = "1.26.0"
goreleaser = "2.13.3"
cosign = "3.0.4"
golangci-lint = "2.8.0"
lefthook = "2.0.4"

[tasks.build]
run = "goreleaser build --single-target --snapshot --output cc-flavors --clean"

[tasks.test]
run = "go test ./..."

[tasks.fmt]
run = "gofmt -w ."

[tasks.lint]
run = "golangci-lint run ./..."

[tasks.clean]
run = "rm -rf cc-flavors dist"

[tasks.all]
run = ["mise run fmt", "mise run lint", "mise run test", "mise run build"]

[tasks.hooks]
run = "lefthook install"

[tasks.bump]
run = "scripts/bump.sh"

[tasks.version]
run = "scripts/version.sh"
